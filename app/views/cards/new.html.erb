<% if @card.errors.any? %>
<div class="alert alert-danger alert-dismissible fade show mb-0" role="alert">
  <% @card.errors.full_messages.each do |message| %>
  <%=message%><br>
  <%end%>
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<% end %>
<main>
  <div class="container">
    <h2 class="my-3">新しいカードテンプレートの作成</h2>
    <%=form_with model: @card, local: true do |f|%>
      <div class="form-group">
        <%= f.label "タイトル" %>
        <%= f.text_field :title, class: "form-control", id: "title"%>
      </div>
      <div class="form-group">
        <%= f.label "作成者" %>
        <%= f.text_field :auther_name, class: "form-control", id: "auther_name"%>
      </div>
      <h3>表面のデザイン設定</h3>
      <div class="form-group">
        <%= f.label "用紙選択" %>
        <%= f.select :format, {'A-one 品番51861E' => "51861E", 'A-one 品番31268' => "31268"},{}, class: "custom-select", id: "format"%>
      </div>
      <div class="form-group">
        <%= f.label "デザインの選択" %>
        <%= f.select :design_type, {'オリジナルのデザイン' => 1, 'プリセット1' => 2},{}, class: "custom-select", id: "design_type"%>
      </div>
      <div class="form-group">
        <%= f.label "カードの表の背景" %>
        <%= f.file_field :card_img, class: "form-control-file", id: "card_img"%>
      </div>
      <h4>デザインプレビュー</h4>
      <div class="text-center">
        <%= image_tag 'sample.png', id: "background-preview", style: "max-width: 100%; max-height: 379px;" %>
      </div>
      <div class="d-none" id='message'>
        <h3>ラベル商品では表面のデザイン設定は出来ません。</h3>
      </div>
      <div class="text-right">
        <%= f.submit nil,class: 'btn btn-primary btn-raised'%>
      </div>
    <%end%>
  </div>
</main>
<%= javascript_pack_tag 'cards', 'data-turbolinks-track': 'reload' %>